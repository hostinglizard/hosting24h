<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>All-in-One 감성 유틸</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #fffafc;
      margin: 0; padding: 0;
      color: #5c2c44;
    }
    header {
      background: #ffdbe6;
      padding: 15px;
      text-align: center;
      font-size: 1.8em;
      font-weight: bold;
      color: #5c2c44;
      user-select: none;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
      background: #fff0f5;
      padding: 10px;
      user-select: none;
    }
    nav button {
      padding: 10px 14px;
      border: none;
      background: #ff80aa;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.2s;
      font-weight: 600;
      font-size: 1rem;
    }
    nav button:hover {
      background: #ff6699;
      transform: scale(1.05);
    }
    section {
      display: none;
      padding: 20px;
      max-width: 600px;
      margin: 20px auto;
      background: #fff0f5;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(255,192,203,0.3);
      color: #5c2c44;
    }
    section.active {
      display: block;
    }
    input[type="text"],
    input[type="number"],
    input[type="date"],
    select,
    textarea {
      width: 100%;
      padding: 10px;
      margin: 6px 0 12px;
      border-radius: 8px;
      border: 1px solid #e7a5c3;
      font-family: inherit;
      font-size: 1rem;
      color: #5c2c44;
      background: #fff7fb;
      resize: vertical;
      transition: border-color 0.3s;
    }
    input[type="text"]:focus,
    input[type="number"]:focus,
    input[type="date"]:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: #ff6f91;
      background: #ffe6f1;
      box-shadow: 0 0 6px #ff6f91aa;
    }

    /* 일기 줄노트 스타일 */
    #diaryInput {
      background: repeating-linear-gradient(
        to bottom,
        #fff,
        #fff 28px,
        #ffcce0 29px
      );
      border: 2px solid #f5a6c2;
      line-height: 28px;
      font-size: 1.1rem;
      font-family: 'Nanum Pen Script', cursive, 'Segoe UI', Tahoma, Geneva,
        Verdana, sans-serif;
      padding: 15px;
      min-height: 200px;
    }
    #diaryImage {
      margin-top: 10px;
      text-align: center;
    }

    /* 메모장 폴더 스타일 */
    #memoInput {
      background: #fffaf0;
      border: 2px dashed #ffc0cb;
      padding: 15px;
      box-shadow: inset 0 0 10px rgba(255, 192, 203, 0.2);
      font-size: 1.1rem;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 120px;
      resize: vertical;
    }
    #memoSaveBtn {
      margin-top: 8px;
      background: #ffb6c1;
      border: none;
      color: white;
      padding: 8px 16px;
      border-radius: 7px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s;
    }
    #memoSaveBtn:hover {
      background: #ff8aa3;
    }

    /* 폰트 변환 결과 및 복사 버튼 */
    #fontResult {
      margin-top: 12px;
      font-size: 1.8rem;
      word-break: break-word;
      user-select: text;
      min-height: 40px;
      font-weight: 700;
    }
    #fontCopyBtn {
      margin-top: 10px;
      background: #ff80aa;
      border: none;
      color: white;
      padding: 8px 14px;
      border-radius: 7px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s;
      user-select: none;
    }
    #fontCopyBtn:hover {
      background: #ff6699;
    }

    /* 플래너 리스트 스타일 */
    #planList {
      list-style: none;
      padding-left: 0;
      margin-top: 15px;
      border-top: 1px solid #f5a6c2;
    }
    #planList li {
      padding: 10px;
      border-bottom: 1px solid #f5a6c2;
      font-weight: 600;
      font-size: 1.1rem;
    }
    #planDate {
      margin-bottom: 8px;
    }
    #planText {
      resize: vertical;
    }
    #addPlanBtn {
      background: #ff80aa;
      border: none;
      color: white;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s;
    }
    #addPlanBtn:hover {
      background: #ff6699;
    }
  </style>
</head>
<body>
  <header>🌸 감성 + 유틸 통합 사이트 🌸</header>
  <nav>
    <button onclick="show('music')">🎵 음악</button>
    <button onclick="show('diary')">📔 일기</button>
    <button onclick="show('timer')">⏱ 타이머</button>
    <button onclick="show('clock')">🕐 현재시간</button>
    <button onclick="show('memo')">📝 메모</button>
    <button onclick="show('font')">🔤 폰트</button>
    <button onclick="show('code')">💻 코드 테스트</button>
    <button onclick="show('score')">📊 성적 계산</button>
    <button onclick="show('planner')">📅 플래너</button>
  </nav>

  <section id="planner">
    <h2>📅 플래너</h2>
    <input type="date" id="planDate" />
    <textarea id="planText" rows="3" placeholder="할 일이나 계획을 적어보세요"></textarea>
    <button id="addPlanBtn" onclick="addPlan()">➕ 추가</button>
    <ul id="planList"></ul>
  </section>

  <section id="font">
    <h2>🔤 폰트 변환기</h2>
    <input
      type="text"
      id="fontInput"
      placeholder="Love you forever"
      onkeydown="if(event.key==='Enter'){fancyFont()}"
    />
    <div id="fontResult"></div>
    <button id="fontCopyBtn" onclick="copyFont()">📋 복사</button>
  </section>

  <section id="diary">
    <h2>📔 일기쓰기</h2>
    <textarea
      id="diaryInput"
      rows="10"
      placeholder="오늘 있었던 일을 감성적으로..."
    ></textarea>
    <button onclick="captureDiary()">🌸 캡처해서 저장 (PNG)</button>
    <div id="diaryImage"></div>
  </section>

  <section id="memo">
    <h2>📝 메모장</h2>
    <textarea id="memoInput" rows="6" placeholder="메모를 입력하세요"></textarea>
    <button id="memoSaveBtn" onclick="saveMemoTxt()">💾 txt로 저장</button>
  </section>

  <script>
    function show(id) {
      document.querySelectorAll("section").forEach((s) =>
        s.classList.remove("active")
      );
      document.getElementById(id).classList.add("active");
    }

    // 플래너 추가
    function addPlan() {
      const date = document.getElementById("planDate").value;
      const text = document.getElementById("planText").value.trim();
      if (!date || !text) return alert("날짜와 내용을 입력하세요.");
      const li = document.createElement("li");
      li.textContent = `${date} - ${text}`;
      document.getElementById("planList").appendChild(li);
      document.getElementById("planText").value = "";
    }

    // 폰트 변환기 함수 (영문만)
    function fancyFont() {
      const input = document.getElementById("fontInput").value;
      if (!input) {
        document.getElementById("fontResult").textContent = "";
        return;
      }
      const fancy = input.replace(/[A-Za-z]/g, (c) => {
        const code = c.codePointAt(0);
        if (code >= 65 && code <= 90)
          return String.fromCodePoint(0x1d4d0 + code - 65); // A-Z
        if (code >= 97 && code <= 122)
          return String.fromCodePoint(0x1d4ea + code - 97); // a-z
        return c;
      });
      document.getElementById("fontResult").textContent = fancy;
    }

    // 복사 버튼
    function copyFont() {
      const text = document.getElementById("fontResult").textContent;
      if (!text) return alert("복사할 내용이 없습니다.");
      navigator.clipboard
        .writeText(text)
        .then(() => alert("복사 완료!"))
        .catch(() => alert("복사 실패!"));
    }

    // 메모장 txt 저장
    function saveMemoTxt() {
      const text = document.getElementById("memoInput").value;
      if (!text) return alert("저장할 메모가 없습니다.");
      const blob = new Blob([text], { type: "text/plain" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "memo.txt";
      a.click();
      URL.revokeObjectURL(url);
    }

    // 일기 캡처 저장 (html2canvas 필요, 추후 추가 예정)
    function captureDiary() {
      alert("캡처 저장 기능은 추후 구현 예정입니다.");
    }

    // 기본 시작 시 음악 탭 보여주기
    show("planner");
  </script>
</body>
</html>
